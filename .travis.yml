dist: trusty
language: php
php:
- 7.2.10
before_script:
- cp .env.travis .env
- composer self-update
- composer install --no-interaction
- npm install
- php artisan key:generate
- php artisan passport:install
- php artisan migrate
script:
- vendor/bin/phpunit
cache:
  directories:
  - "$HOME/.composer/cache/files"
matrix:
  fast_finish: true
notifications:
  slack:
    rooms:
      secure: HD37dndzhf9YqECoDvQNB+Pgn2UVFerGFW79dEu7CEPGYBCJOqBn9AkLBMa575/rgdHgtXPmebPIJzz0DCSdm3KHRWj9XyRVYYG0u4VsF9ammrv0AwOwJRLPoEdS4ozUrVGXR3acnqCkIDCNXoOVXOqEye6LEduoYAlrYTKWPYWtVhjbNGSmFeOe4dneqO/1Fq+12LsRqmTaRi1tmw1xq5kaKYMC63ZewW655DsXC1ybdTTXL7gMImLLiOYwFYp5+/QK31HdChBV1bpm7SLCMqSVGjKYNINEYxtfWkZ9Rr+651dZ9km2XAzgXt4HDaNi2OoNu+j/UoZKr+IC6ycSLGIhGkfegjGKu6C5NYBYF26Pv3wryGzRc7Rmx5wBAqL1xYygUnYQDYx0zsBYLwkp2CSa2qThCMzDoeRDLc5zSjUiLfWVIszsCMkY8YLN4WUS+dC81k4yMHCjBOyfx8Qs+ohGTeJX2bYcrGnobuPuGpRr2rzlt19QunY2Zpx6U/lS6xoolDlHCTWKaAw4NBDlc1E+OEteCYlOrTqaQyoNV9bsv5xWEJFy62w8afWW9BCbykv2ukQRUAJLuC2eFEzwbLYVCCuTSrxMdDI9P1sXF6KvuQ4ayENkppUTJY5+zRaPowSAXVVElJN0Y3Ur95tjGkyVIXP/7QW/HRrQdPSRQ7c=
    on_failure: always
    on_success: change